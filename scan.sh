#!/bin/bash
read -p "Enter the ip/ Domain Name (Ex: test.com): " Target_domain
read -p "Enter the OutPut Directory Location (Ex:/tmp ): " Dir
Output_dir=$Dir/$Target_domain
mkdir -p $Output_dir

#Subfinder
echo -e "\e[1;31m------------------------------------------\e[00m"
echo -e "\e[1;31m Subfinder"
echo -e "\e[1;31m------------------------------------------\e[00m"
subfinder -d $Target_domain -o "$Output_dir/$Target_domain"_sub_domain.txt -silent > /dev/null
#dnsx
echo -e "\e[1;31m------------------------------------------\e[00m"
echo -e "\e[1;31m dnsx"
echo -e "\e[1;31m------------------------------------------\e[00m"
dnsx -l "$Output_dir/$Target_domain"_sub_domain.txt -silent -a -resp-only -o "$Output_dir/$Target_domain"_ipAddress.txt -silent > /dev/null
cat "$Output_dir/$Target_domain"_sub_domain.txt "$Output_dir/$Target_domain"_ipAddress.txt > "$Output_dir/$Target_domain"_all_data.txt

#httpx
echo -e "\e[1;31m httpx"
echo -e "\e[1;31m------------------------------------------\e[00m"
httpx -list "$Output_dir/$Target_domain"_all_data.txt -silent -o "$Output_dir/$Target_domain"_httpx.txt
cat "$Output_dir/$Target_domain"_all_data.txt "$Output_dir/$Target_domain"_httpx.txt > "$Output_dir/$Target_domain"_final_all_data.txt

#nuclei
echo -e "\e[1;31m------------------------------------------\e[00m"
echo -e "\e[1;31m nuclei"
echo -e "\e[1;31m------------------------------------------\e[00m"
nuclei -list "$Output_dir/$Target_domain"_all_data.txt -silent -o "$Output_dir/$Target_domain"_nuclei.txt
